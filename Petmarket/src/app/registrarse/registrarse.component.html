<div class="register-container">
    <div *ngIf="showSuccess" class="success-message">
        ¡Registro exitoso!
      </div>
    
    <form [formGroup]="registroUsuario" (ngSubmit)="onSubmit()" class="register-form">
      <h2>Registro de Usuario</h2>
      
      <div class="form-group">
        <label for="nombre">Nombre*</label>
        <input 
          type="text" 
          id="nombre" 
          formControlName="nombre"
          [ngClass]="{'is-invalid': submitted && registroUsuario.get('nombre')?.errors}"
          placeholder="Ingrese su nombre"
        >
        <div class="error-message" *ngIf="submitted && registroUsuario.get('nombre')?.errors">
          {{ getErrorMessage('nombre') }}
        </div>
      </div>
  
      <div class="form-group">
        <label for="usuario">Usuario*</label>
        <input 
          type="text" 
          id="usuario" 
          formControlName="usuario"
          [ngClass]="{'is-invalid': submitted && registroUsuario.get('usuario')?.errors}"
          placeholder="Ingrese su nombre de usuario"
        >
        <div class="error-message" *ngIf="submitted && registroUsuario.get('usuario')?.errors">
          {{ getErrorMessage('usuario') }}
        </div>
      </div>
  
      <div class="form-group">
        <label for="email">Email*</label>
        <input 
          type="email" 
          id="email" 
          formControlName="email"
          [ngClass]="{'is-invalid': submitted && registroUsuario.get('email')?.errors}"
          placeholder="correo@ejemplo.com"
        >
        <div class="error-message" *ngIf="submitted && registroUsuario.get('email')?.errors">
          {{ getErrorMessage('email') }}
        </div>
      </div>
  
      <div class="form-group">
        <label for="contrasena">Contraseña*</label>
        <input 
          type="password" 
          id="contrasena" 
          formControlName="contrasena"
          [ngClass]="{'is-invalid': submitted && registroUsuario.get('contrasena')?.errors}"
          placeholder="Ingrese su contraseña"
        >
        <div class="error-message" *ngIf="submitted && registroUsuario.get('contrasena')?.errors">
          {{ getErrorMessage('contrasena') }}
        </div>
      </div>
  
      <div class="form-group">
        <label for="confirmarContrasena">Confirmar Contraseña*</label>
        <input 
          type="password" 
          id="confirmarContrasena" 
          formControlName="confirmarContrasena"
          [ngClass]="{'is-invalid': submitted && (registroUsuario.get('confirmarContrasena')?.errors || registroUsuario.hasError('passwordMismatch'))}"
          placeholder="Confirme su contraseña"
        >
        <div class="error-message" *ngIf="submitted && registroUsuario.hasError('passwordMismatch')">
          Las contraseñas no coinciden
        </div>
      </div>
  
      <div class="form-group">
        <label for="direccion">Dirección (opcional)</label>
        <input 
          type="text" 
          id="direccion" 
          formControlName="direccion"
          placeholder="Ingrese su dirección"
        >
      </div>
  
      <div class="form-group">
        <label for="fechaNac">Fecha de Nacimiento*</label>
        <input 
          type="date" 
          id="fechaNac" 
          formControlName="fechaNac"
          [ngClass]="{'is-invalid': submitted && registroUsuario.get('fechaNac')?.errors}"
        >
        <div class="error-message" *ngIf="submitted && registroUsuario.get('fechaNac')?.errors">
          {{ getErrorMessage('fechaNac') }}
        </div>
      </div>
  
      <div class="form-buttons">
        <button 
          type="submit" 
          class="btn-registrar" 
          [disabled]="isLoading"
        >
          <span *ngIf="!isLoading">Registrarse</span>
          <span *ngIf="isLoading">Registrando...</span>
        </button>
        <button 
          type="button" 
          class="btn-limpiar" 
          (click)="onReset()" 
          [disabled]="isLoading"
        >
          Limpiar
        </button>
      </div>
    </form>
  </div>